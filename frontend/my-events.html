<!DOCTYPE html>
<html lang="en">
<head>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My Events - EventPulse</title>
    <link rel="stylesheet" href="css/styles.css">
    <link rel="stylesheet" href="css/event-management.css">
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <link rel="stylesheet" href="css/dark-mode.css">
    <link rel="stylesheet" href="css/icon-animations.css">
</head>
<body>
    <!-- Header -->
    <header>
        <nav>
            <div class="nav-left">
                <a href="organizer-dashboard.html" class="logo">
                    <svg class="logo-icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M19 4H5C3.89543 4 3 4.89543 3 6V20C3 21.1046 3.89543 22 5 22H19C20.1046 22 21 21.1046 21 20V6C21 4.89543 20.1046 4 19 4Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M16 2V6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M8 2V6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M3 10H21" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        <circle cx="12" cy="15" r="2" fill="currentColor"/>
                    </svg>
                    EventPulse
                </a>
            </div>
            <div class="nav-center">
                <a href="event-management.html">Create Event</a>
                <a href="my-events.html" class="active">My Events</a>
                <a href="organizer-dashboard.html">Dashboard</a>
            </div>
            <div class="nav-right">
                <button id="theme-toggle" class="theme-toggle" aria-label="Toggle dark mode" title="Toggle Dark Mode">
                    <svg class="sun-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                    <svg class="moon-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                </button>
                <span class="organizer-name" id="organizerName"></span>
                <button id="logout-btn" class="logout-btn">Logout</button>
            </div>
        </nav>
    </header>

    <!-- Main Content -->
    <main class="management-container">
        <div class="page-header">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"></path>
                <rect x="8" y="2" width="8" height="4" rx="1" ry="1"></rect>
            </svg>
            <h1>My Events</h1>
        </div>

        <!-- Events List Section -->
        <section class="management-section" id="my-events">
            <div class="section-header">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect>
                    <line x1="16" y1="2" x2="16" y2="6"></line>
                    <line x1="8" y1="2" x2="8" y2="6"></line>
                    <line x1="3" y1="10" x2="21" y2="10"></line>
                </svg>
                <h2>Your Managed Events</h2>
                <span class="event-count-badge" id="myEventsCount">0</span>
            </div>

            <div class="events-grid" id="myEvents">
                <div class="loading-state">
                    <div class="spinner"></div>
                    <p>Loading your events...</p>
                </div>
            </div>

            <div class="empty-state hidden" id="emptyState">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <circle cx="12" cy="12" r="10"></circle>
                    <line x1="12" y1="8" x2="12" y2="12"></line>
                    <line x1="12" y1="16" x2="12.01" y2="16"></line>
                </svg>
                <h3>No Events Yet</h3>
                <p>You haven't created any events yet. Click "Create New Event" to get started!</p>
            </div>
        </section>

    </main>

    <!-- Edit Event Modal -->
    <div id="editModal" class="modal hidden">
        <div class="modal-content edit-modal">
            <div class="modal-header">
                <h2>Edit Event</h2>
                <button class="close-modal" onclick="closeEditModal()">&times;</button>
            </div>
            <div class="modal-body">
                <form id="editEventForm">
                    <input type="hidden" id="edit-event-id">
                    
                    <div class="form-group">
                        <label for="edit-event-name">üìù Event Name *</label>
                        <input type="text" id="edit-event-name" required>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label for="edit-event-category">Category *</label>
                            <select id="edit-event-category" required>
                            <option value="">Select Category</option>
                            <option value="Technology">Technology</option>
                            <option value="Business">Business</option>
                            <option value="Arts & Culture">Arts & Culture</option>
                            <option value="Sports">Sports</option>
                            <option value="Music">Music</option>
                            <option value="Education">Education</option>
                            <option value="Entertainment">Entertainment</option>
                            <option value="Food & Drink">Food & Drink</option>
                            <option value="Health & Wellness">Health & Wellness</option>
                            <option value="Other">Other</option>
                        </select>
                    </div>

                    <div class="form-group" id="edit-custom-category-group" style="display: none;">
                        <label for="edit-custom-category">Custom Category *</label>
                        <input type="text" id="edit-custom-category" placeholder="Enter custom category">
                    </div>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label for="edit-event-date">Date *</label>
                        <input type="date" id="edit-event-date" required>
                    </div>

                    <div class="form-group">
                        <label for="edit-event-time">‚è∞ Time *</label>
                        <input type="time" id="edit-event-time" required>
                    </div>
                </div>

                <div class="form-group">
                    <label for="edit-event-venue">üìç Venue Name *</label>
                    <input type="text" id="edit-event-venue" required>
                </div>

                <div class="form-group">
                    <label>Event Location *</label>
                    <div id="edit-map" style="height: 300px; border-radius: 8px; margin-bottom: 10px;"></div>
                    <input type="hidden" id="edit-event-lat" required>
                    <input type="hidden" id="edit-event-lng" required>
                    <small style="color: #666; display: block; margin-top: 5px;">Click on the map to set event location</small>
                </div>

                <div class="form-group">
                    <label for="edit-event-description">üìÑ Description *</label>
                    <textarea id="edit-event-description" rows="4" required></textarea>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label for="edit-event-capacity">üë• Capacity *</label>
                        <input type="number" id="edit-event-capacity" min="1" required>
                    </div>

                    <div class="form-group">
                        <label for="edit-event-status">üìä Event Status *</label>
                        <select id="edit-event-status" required>
                            <option value="Draft">Draft</option>
                            <option value="Active">Active</option>
                            <option value="Closed">Closed</option>
                            <option value="Completed">Completed</option>
                            <option value="Cancelled">Cancelled</option>
                        </select>
                    </div>
                </div>

                <div class="form-group">
                    <label class="checkbox-label">
                        <input type="checkbox" id="edit-ticket-toggle">
                        <span>üí≥ Enable Paid Tickets</span>
                    </label>
                </div>

                <div id="edit-ticket-pricing" style="display: none;">
                    <div class="form-row">
                        <div class="form-group">
                            <label for="edit-ticket-price">Ticket Price (‚Çπ) *</label>
                            <input type="number" id="edit-ticket-price" min="0" step="0.01">
                        </div>

                        <div class="form-group">
                            <label for="edit-available-tickets">Available Tickets *</label>
                            <input type="number" id="edit-available-tickets" min="1">
                        </div>
                    </div>
                </div>
                </form>
            </div>
            
            <div class="modal-footer">
                <button type="button" class="secondary-btn" onclick="closeEditModal()">
                    <span>√ó</span> Cancel
                </button>
                <button type="submit" form="editEventForm" class="primary-btn">
                    <span>‚úÖ</span> Update Event
                </button>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer>
        <p>&copy; 2025 EventPulse. All rights reserved.</p>
    </footer>

    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
        <script src="js/config.js"></script>
    <script src="js/dark-mode.js"></script>
    <script src="js/my-events.js"></script>
</body>
</html>


